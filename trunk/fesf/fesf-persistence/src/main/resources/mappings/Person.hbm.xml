<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field"
	default-cascade="save-update"
	package="ar.edu.fesf.model">
	<class name="Person" >
	  
	<id column="ID" name="id">
          <generator class="native"/>
    </id>
    
    <property name="name"></property>
    <many-to-one name="userInfo" class="UserInfo" cascade="all"/>
    
    <set name="categories" cascade="all">
        <key column="person"/>
        <one-to-many class="Category"/>
    </set>
    
<!--     <bag name="oldLoans"> -->
<!-- 	    <key column="person"/> -->
<!-- 	    <one-to-many class="Loan"/> -->
<!--     </bag> -->
    
<!--     <bag name="currentLoans"> -->
<!-- 	    <key column="person"/> -->
<!-- 	    <one-to-many class="Loan"/> -->
<!--     </bag> -->
    
    <list name="currentLoans" cascade="all">
            <key column="person"/>
            <list-index column="index"/>
            <one-to-many class="Loan"/>
    </list>

    <list name="oldLoans" cascade="all">
            <key column="person"/>
            <list-index column="index"/>
            <one-to-many class="Loan"/>
    </list>
    
   <property name="surname"></property>
   <property name="age"></property>
   <property name="address"></property>
   <property name="phone"></property>	
   <one-to-one name="email" class="EmailAddress" cascade="all"/>
	
    <list name="reservations" cascade="all">
            <key column="person"/>
            <list-index column="index"></list-index>
            <one-to-many class="ReservationEvent"/>
    </list>

	</class>
</hibernate-mapping>
