<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field"
	default-cascade="save-update"
	package="ar.edu.fesf.model">
	<class name="Book" >
	  
	<id column="ID" name="id">
          <generator class="native"/>
    </id>
    
    <property name="title"/>
    
    <property name="countOfLouns"/>
    
    <set name="categories">
        <key column="book"/>
        <many-to-many class="Category"/>
    </set>
    
<!--     <property name="imagepath"/> -->
<!--     <property name="description"/> -->    
<!--     <one-to-one name="isbn" class="ISBN"/> -->
<!--     <one-to-one name="publisher" class="Publisher"/> -->
    
    <bag name="authors" table="BookAuthors" inverse="true">
        <key column="book"/>
        <many-to-many column="author" class="Author"/>
    </bag>
    
<!--     <list name="reservationEvents" table="ReservationEventsForBook"> -->
<!--         <key column="book"/> -->
<!--         <index column="indice"/> -->
<!--         <one-to-many class="ReservationEvent"/> -->
<!--     </list> -->
    
    <bag name="registedCopies" inverse="true">
        <key column="book"/>
        <one-to-many class="BookCopy"/>
    </bag>
    
    <bag name="availableCopies" inverse="true">
        <key column="book"/>
        <one-to-many class="BookCopy"/>
    </bag>
    
	</class>
</hibernate-mapping>
